!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var u in n)("object"==typeof exports?exports:t)[u]=n[u]}}("undefined"!=typeof self?self:this,function(){return function(t){function e(u){if(n[u])return n[u].exports;var i=n[u]={i:u,l:!1,exports:{}};return t[u].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,u){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:u})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,n){"use strict";function u(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}return function(e,n,u){return n&&t(e.prototype,n),u&&t(e,u),e}}(),o=n(3),s=u(o),c=n(4),f=u(c),l=function(){function t(e){var n=this;i(this,t),this._loop=function(){var t=Date.now()-n.beginTime,e=n.duration,u=s.default[n.timingFunction]||s.default.linear;if(n.t=t,"end"===n.state||t>=e)n._end();else if("stop"===n.state)n._stop(t);else{if("reset"!==n.state)return n._renderFunction(t,e,u),!0;n._reset()}return!1},this._init(e),this.state="reset"}return a(t,[{key:"_init",value:function(t){this.target=t.target,this._initValue(t.value),this.duration=t.duration>=0?t.duration:1e3,this.timingFunction=t.timingFunction||"linear",this.renderFunction=t.render||this._defaultFunc,this.animationFrameId=void 0,this.t=0,this.onPlay=t.onPlay,this.onEnd=t.onEnd,this.onStop=t.onStop,this.onReset=t.onReset}},{key:"_initValue",value:function(t){this.value=[],Array.isArray(t)?Array.isArray(t[0])?this._initMutipleValue(t):this._initSimgleValue(t):"object"===(void 0===t?"undefined":r(t))&&"path"===t.type&&this._initPathValue(t)}},{key:"_initPathValue",value:function(t){this.value.push({start:0,end:t.svg.getTotalLength(),type:"path",svg:t.svg})}},{key:"_initSimgleValue",value:function(t){this.value.push({start:parseFloat(t[0]),end:parseFloat(t[1]),type:"simgle"})}},{key:"_initMutipleValue",value:function(t){var e=this;t.forEach(function(t){e.value.push({start:parseFloat(t[0]),end:parseFloat(t[1]),type:"mutiple"})})}},{key:"_defaultFunc",value:function(){console.warn("no render function!")}},{key:"_renderEndState",value:function(){var t=this.duration,e=s.default[this.timingFunction]||s.default.linear;this._renderFunction(t,t,e)}},{key:"_renderInitState",value:function(){var t=this.duration,e=s.default[this.timingFunction]||s.default.linear;this._renderFunction(0,t,e)}},{key:"_renderStopState",value:function(t){var e=this.duration,n=s.default[this.timingFunction]||s.default.linear;this._renderFunction(t,e,n)}},{key:"_renderFunction",value:function(t,e,n){var u=this.value.map(function(u){var i=n(t,u.start,u.end-u.start,e);return"path"===u.type?u.svg.getPointAtLength(i):i});this.renderFunction.apply(this,u)}},{key:"_play",value:function(){this.state="play",this.onPlay&&this.onPlay.call(this),this.beginTime=Date.now(),this._runLoop()}},{key:"_runLoop",value:function(){f.default.add(this._loop)}},{key:"_stopLoop",value:function(){f.default.delete(this._loop)}},{key:"_end",value:function(){this.state="end",this._renderEndState(),this.onEnd&&this.onEnd.call(this)}},{key:"_stop",value:function(t){this.state="stop",this._renderStopState(t),this.onStop&&this.onStop.call(this)}},{key:"_reset",value:function(){this.state="reset",this._renderInitState(),this.onReset&&this.onReset.call(this)}},{key:"getState",value:function(){return this.state}},{key:"setState",value:function(t){this.state=t}},{key:"play",value:function(){this._stopLoop(),this._play()}},{key:"end",value:function(){this._stopLoop(),this._end()}},{key:"stop",value:function(){"play"===this.state?(this._stopLoop(),this._stop(this.t)):this.state="stop"}},{key:"reset",value:function(){this._stopLoop(),this._reset()}}]),t}();e.default=l},function(t,e,n){"use strict";function u(t){return t&&t.__esModule?t:{default:t}}function i(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function u(i,r){try{var a=e[i](r),o=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(o).then(function(t){u("next",t)},function(t){u("throw",t)});t(o)}return u("next")})}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Frameani=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}return function(e,n,u){return n&&t(e.prototype,n),u&&t(e,u),e}}();n(2);var o=n(0),s=u(o),c=n(5),f=u(c),l=function(){function t(e){r(this,t),this._queueArr=[new f.default],this._queueArr[0].add(new s.default(e)),this._state="reset"}return a(t,[{key:"to",value:function(t){var e=new f.default;return e.add(new s.default(t)),this._queueArr.push(e),this}},{key:"with",value:function(t){return this._queueArr[this._queueArr.length-1].add(new s.default(t)),this}},{key:"play",value:function(){function t(){return e.apply(this,arguments)}var e=i(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.reset(),this._state="play",e=0;case 3:if(!(e<this._queueArr.length)){t.next=11;break}if("play"===this._state){t.next=6;break}return t.abrupt("break",11);case 6:return t.next=8,this._queueArr[e].play();case 8:e++,t.next=3;break;case 11:case"end":return t.stop()}},t,this)}));return t}()},{key:"reset",value:function(){this._state="reset",this._queueArr.concat().reverse().forEach(function(t){return t.reset()})}},{key:"stop",value:function(){this._state="stop",this._queueArr.forEach(function(t){return t.stop()})}},{key:"end",value:function(){this._state="end",this._queueArr.forEach(function(t){return t.end()})}}]),t}();l.path=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttributeNS(null,"d",t),{svg:e,type:"path"}},e.default=l,e.Frameani=l},function(t,e,n){"use strict";!function(){for(var t=0,e=["ms","moz","webkit","o"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,n){var u=(new Date).getTime(),i=Math.max(0,16-(u-t)),r=window.setTimeout(function(){e(u+i)},i);return t=u+i,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u={linear:function(t,e,n,u){return n*t/u+e},easeIn:function(t,e,n,u){return n*(t/=u)*t+e},easeOut:function(t,e,n,u){return-n*(t/=u)*(t-2)+e},easeInOut:function(t,e,n,u){return(t/=u/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,n,u){return n*(t/=u)*t*t+e},easeOutCubic:function(t,e,n,u){return n*((t=t/u-1)*t*t+1)+e},easeInOutCubic:function(t,e,n,u){return(t/=u/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,n,u){return n*(t/=u)*t*t*t+e},easeOutQuart:function(t,e,n,u){return-n*((t=t/u-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,n,u){return(t/=u/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,n,u){return n*(t/=u)*t*t*t*t+e},easeOutQuint:function(t,e,n,u){return n*((t=t/u-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,n,u){return(t/=u/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,n,u){return-n*Math.cos(t/u*(Math.PI/2))+n+e},easeOutSine:function(t,e,n,u){return n*Math.sin(t/u*(Math.PI/2))+e},easeInOutSine:function(t,e,n,u){return-n/2*(Math.cos(Math.PI*t/u)-1)+e},easeInExpo:function(t,e,n,u){return 0==t?e:n*Math.pow(2,10*(t/u-1))+e},easeOutExpo:function(t,e,n,u){return t==u?e+n:n*(1-Math.pow(2,-10*t/u))+e},easeInOutExpo:function(t,e,n,u){return 0==t?e:t==u?e+n:(t/=u/2)<1?n/2*Math.pow(2,10*(t-1))+e:n/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,n,u){return-n*(Math.sqrt(1-(t/=u)*t)-1)+e},easeOutCirc:function(t,e,n,u){return n*Math.sqrt(1-(t=t/u-1)*t)+e},easeInOutCirc:function(t,e,n,u){return(t/=u/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+e:n/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,n,u,i,r){var a=void 0;return 0==t?e:1==(t/=u)?e+n:(void 0===r&&(r=.3*u),!i||i<Math.abs(n)?(a=r/4,i=n):a=r/(2*Math.PI)*Math.asin(n/i),-i*Math.pow(2,10*(t-=1))*Math.sin((t*u-a)*(2*Math.PI)/r)+e)},easeOutElastic:function(t,e,n,u,i,r){var a=void 0;return 0==t?e:1==(t/=u)?e+n:(void 0===r&&(r=.3*u),!i||i<Math.abs(n)?(i=n,a=r/4):a=r/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*t)*Math.sin((t*u-a)*(2*Math.PI)/r)+n+e)},easeInOutElastic:function(t,e,n,u,i,r){var a=void 0;return 0==t?e:2==(t/=u/2)?e+n:(void 0===r&&(r=u*(.3*1.5)),!i||i<Math.abs(n)?(i=n,a=r/4):a=r/(2*Math.PI)*Math.asin(n/i),t<1?i*Math.pow(2,10*(t-=1))*Math.sin((t*u-a)*(2*Math.PI)/r)*-.5+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*u-a)*(2*Math.PI)/r)*.5+n+e)},easeInBack:function(t,e,n,u,i){return void 0===i&&(i=1.70158),n*(t/=u)*t*((i+1)*t-i)+e},easeOutBack:function(t,e,n,u,i){return void 0===i&&(i=1.70158),n*((t=t/u-1)*t*((i+1)*t+i)+1)+e},easeInOutBack:function(t,e,n,u,i){return void 0===i&&(i=1.70158),(t/=u/2)<1?n/2*(t*t*((1+(i*=1.525))*t-i))+e:n/2*((t-=2)*t*((1+(i*=1.525))*t+i)+2)+e},easeInBounce:function(t,e,n,i){return n-u.easeOutBounce(i-t,0,n,i)+e},easeOutBounce:function(t,e,n,u){return(t/=u)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,e,n,i){return t<i/2?.5*u.easeInBounce(2*t,0,n,i)+e:.5*u.easeOutBounce(2*t-i,0,n,i)+.5*n+e}};e.default=u},function(t,e,n){"use strict";function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}return function(e,n,u){return n&&t(e.prototype,n),u&&t(e,u),e}}(),r=function(){function t(){var e=this;u(this,t),this._loop=function(){e._filter(),e.funcQueue.length>0?e.frameId=window.requestAnimationFrame(e._loop):e.isRun=!1},this.frameId=void 0,this.funcQueue=[],this.isRun=!1}return i(t,[{key:"_run",value:function(){this._loop()}},{key:"_filter",value:function(){for(var t=[],e=0;e<this.funcQueue.length;e++){var n=this.funcQueue[e];n()&&t.push(n)}this.funcQueue=t}},{key:"add",value:function(t){this.funcQueue.push(t),this.isRun||(this._run(),this.isRun=!0)}},{key:"delete",value:function(t){this.funcQueue=this.funcQueue.filter(function(e){return e!==t}),0===this.funcQueue.length&&(window.cancelAnimationFrame(this.frameId),this.isRun=!1)}}]),t}();e.default=new r},function(t,e,n){"use strict";function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}return function(e,n,u){return n&&t(e.prototype,n),u&&t(e,u),e}}(),r=n(0),a=function(t){return t&&t.__esModule?t:{default:t}}(r),o=function(){function t(){u(this,t),this._queue=[]}return i(t,[{key:"add",value:function(t){t instanceof a.default&&this._queue.push(t)}},{key:"delete",value:function(t){this._queue=this._queue.filter(function(e){return e!==t})}},{key:"deleteAll",value:function(){this._queue=[]}},{key:"play",value:function(){var t=this._queue.map(function(t){return new Promise(function(e){var n=t.onEnd;t.onEnd=function(){n&&n(),t.onEnd=n,e()},t.play()})});return Promise.all(t)}},{key:"end",value:function(){this._queue.forEach(function(t){"end"!==t.getState()&&t.end()})}},{key:"reset",value:function(){this._queue.forEach(function(t){"reset"!==t.getState()&&t.reset()})}},{key:"stop",value:function(){this._queue.forEach(function(t){"stop"!==t.getState()&&t.stop()})}},{key:"forEach",value:function(t){this._queue.forEach(t)}}]),t}();e.default=o}])});